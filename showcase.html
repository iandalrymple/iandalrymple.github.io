---
layout: showcase
title: Showcase
description: Pipeline Example
background: '/img/PCBA.jpg'
---

<h1>Background</h1>

<p><a href="https://ermascustard.com">Erma's Original Frozen Custard</a> is a walk-up frozen custard establishement in SE Michigan. The stores are located in Saint Clair Shores, Shelby Twp. and Warren. 
    The stores use Upserve for POS, Shopfiy for online orders and DoorDash for delivery. These systems have been integrated with weather data from Open Weather Map 
    to predict the sales in order to properly staff the stores. Additionally, a reporting pipline has been created which pushes the aforementioned data 
    up to Qlik Cloud using the Qlik DataTransfer tool. The sections below will describe the design elements of these pipelines and the various applications 
    that are used to facilitate. 
</p>

<br>

<h1>Process Flow</h1>
<img src='/img/ERMAS_MASTER_DATA_FLOW.jpg' alt='You should be seeing a picture'>

<br>
<br>
<br>

<h1>API Client Applications</h1>
<p>The API client applications that extract data from the cloud sources are all .NET Framework console applications written in C#. The use RestSharp and NewtonSoft to retrieve the data from the source systems. 
    The JSON retrieved is parsed and inserted into tables that were set up to reflect the likley schema used in the source system (mostly normalized). The retrievals are coordinated using Windows Task Scheduler. 
    All of the solutions use Log4Net for logging and all secrets are encrypted and retrieved at runtime. 

    The <a href="https://iandalrymple.github.io/WeatherReporter_PUBLIC/">Open Weather Map Solution</a> is public on my GitHub. The solution is very similar to the others and since the others contain IP they are not going to be made public anytime soon. 
</p>

<h1>Model Builder</h1>

<p>The intent of the modelling is to predict sales as function of weather and any other temporal predictors available. 
    The application extracts data stored by the API client applications described in the previous step as well CSV files from DoorDash / historical sales. The CSV files must be manually extracted since we currently do not have access 
    to DoorDash backend via an API at this time. The modeller takes the database and CSV sales data and the database weather data performing typical preprocessing (missing value handling, reshaping, combining, 
    aggregating, standardizing, splitting). Once the predictor and label frames are created for both the training and test sets a gradient boost regressor, random forest regressor, and KNN model are all fit using the best 
    hyper-parameters from an exhaustive grid search. Each of the models is then used to make predictions with the test set and the resultant RMSE is calculated. The model with the best RMSE is then pickled and sent off to 
    be used in the prediction web site which is described further down on this page.
</p>
<p>The model builder application is written in Python 3.8 (scikit-learn / Pandas / Numpy) and was developed in Visual Studio 2022. The solution implements a singleton debugging logger, uses a config file for modifications to settings, 
    implements multi-threading for data extraction / modelling tasks and follows single responsibility design patterns. The repo for the modelling solution is not public since it is intellectual property. 
</p>

<p>The <a href="https://viewer.diagrams.net/?tags=%7B%7D&highlight=0000ff&edit=_blank&layers=1&nav=1&title=MODELLING_FLOW.drawio#R7Z3beto4EICfhsv08xm4TEKatE2y2ZBut3unYAFujOXKSoA%2B%2FUq2BLZEwIBPQC7a2LIs29LMrxlpJFrm5WR2jUE4vkMu9FuG5s5aZq9lGIbmGPQPS5knKbrm2EnKCHsuT1sm9L0%2FUGTkqa%2BeC6NMRoKQT7wwmzhAQQAHJJMGMEbTbLYh8rNPDcEIKgn9AfDV1B%2BeS8ZJasdoL9NvoDcaiyfrTje5MgEiM%2F%2BSaAxcNE0lmVct8xIjRJKjyewS%2Bqz2RL38%2BDL%2F4d%2B%2BONdf%2F45%2Bg%2B8X357u%2FzlLCvu8zS2LT8AwIDsXPeuYvacrEE5%2Bja97T494%2BF%2FnQRT9BvxXXl%2F8W8lcVCB0aX3yU4TJGI1QAPyrZeoFRq%2BBC9ljNHq2zHOLUEgTdZr4CxIy58IBXgmiSWMy8fnVIQoIv6izIuhn4vm%2FrLxPtjj9yYuPT3qzzNmcn%2BWsJ%2F7REXrFA7gmn8nFFeARJGsqkedjFZWSOd4K1xBNIH1JmgFDHxDvLSuYgMv3aJFvcesD8uh3GBpXRku3kluEKra1bBHJi%2FK7lpJwjjGYp7KFLEO0xXNsSbCk%2FOI1VmenB8kLiLNUlSyTYlndQiVMRW7vgBe0DMenDXXxjOnRiMQSkaQwCcuItfP7FYkLZ1Ese%2Bc0g66Fs%2BVFUUofsptfQ%2Fqfj0YjiNUHpbIwREEciTz0%2B5KnizeS9GupPUwVpmOPwH4IYsGcUia%2Frym0%2FS5GPogiLv0RwehlATmWe0Gs7ZXjDWICZ2vFmV817ay4CFxOl7TVRdo4RVpZetMKkBKetbKxmmlmIxg280gKYfTsJ8%2FJjpcAYyeCX9Vzbx3PNnJPtysCn5YljNktB3wSyExtPfdkTkr59wbfurZJge%2Fq6ZYmPI0xBC6FDJgwZATPUZjCX9FAvPEigrBHrSyapU9trYhxD6MJ%2FdMDBDyDCJ4K%2F3Sp%2B%2BvWzj%2Frg3978c86Uf4Ztp7tyZ31AJTzNxKYVuOB%2BdnzTweW3cbR0qmDlruSTqZsweSzayPfXm1oN0LHv4cRxPRTT9YSkj3BBih3%2B0O5F5Xh1GvWbGuN2J0DcMecRpCnP0ahN5yfLnlso3FmRacO8pRMkHa9BFFVXkKEpZc0MGQfAIraCoqKgYsoJQpBkKsUY1Upu2GRVkTy2CS5hxDugWh8mr6T0zjfqbNC5OqH3q7m1y4jVrsDdq8ZR6sivpqSxBmSJCUfpPBVHSmS%2BmezUw6ot526NCSwFz13ubLxukelNdtpwEbJrspykAVF21GylYKcfSU7Q%2BQCxE3YREcibwdEaefAKG0ZzQwwkUcCKqG03tDQqMMR%2F3ZF4i%2F7%2FjujvKHiL3uf1Yi%2FoYj%2FN2%2FwQlPQcMhaP%2Fbk2CwWlVjayDOCwYC9NAZTJkR8issFBKxUm1vwDP2sqAPfGwX0eEDFFGKawFwjNmV2zi9MPNdNtApSdxM8x%2BUxAec1Tgu3L1p2L9dAyHqll52yRXwqf2orHQK6ylk70z512hY39XaVcGEtZ2%2BgDRBBIolAIY0uXu0wh8urRePqCswdOtCtCI4SayzZPH0HjvsyzW5vcLwcbV3%2BcphWTw9%2BiuItuuRTFW%2B7W4d4q7GB23TZUwjImIU2H1qnLdS6kE7b1EVAyDxT0p6CembamVLPjG5lnboaHVEHBkuemtLzhq4IhjUkdEVXW%2BfrX1%2FuacrTzePVea%2BvtpXve2EEN09hgChMFlQNvRlruT2bYIs4kI40%2FWWpExUC1Ol5ChnehVWyUUsYSAM7cGF2btaSwseu9tMSdcy8aVGcpxZyYUhByY6uKnm1s5FGLSEXx2Tea4dJB0Od4figQ710sM3G0UFdCHCJggEgMKD%2F6IXPGExgVJZwZJ9FHa1WdpB0mHn6sYuHHClsrbAQqxUPU2VIE2zGogmfNwbYKHx8cj%2FlVeNsD99L6mZ1oF23l2QaSiUfowrkdYFMvVkqoLpAmT6lum4rO1B4Yh2Xk1XaTv0dl2rXHKHWCmXcrLWFb8ayX%2BuoUSR3kH5CWfp6C4fs7l%2BIbYYimZkgcN%2FVXg0FScrJeCiyJnfr12TVyDlGTc69q1Kz1pia6uzaDfI9F8zL8xkxTPrdcfKgWE2Tc1YqDAaItTRtHAxdb0BQvOnQyrGOU9NmXatfnZsZ5120OueddzMLDwfcr3XUebc%2BoT0kwEyh2P6BXjAqbaU4GwjUJjBeUJV0yxFx4dunFp%2Bbj%2FirsHJEN75WyT%2BUnuXWa1d6qxE6fsB775h515iKpq55lboSNGxu2jRHinyTbygnNsiuZU%2B8hm6EkF%2FGmmWCikHzw4NLbQ1Y%2BBheNZCQ4wcrgoRqE70TQDhEbAABggFbij1JNo1eIZnNjBcUalRIvGBbWPUisK%2BYeMHsxmpivW%2F5wYKmuotAP%2FQ9UpYlTFsZMAEDtNVYMQQDL4gtb24XExjFxUPy4dsu1vfVb%2BZ%2BhNrsucVk3lAbq5xVdFtvDSlbrVZ3wxYocpcn3VBOD2aps%2FjiJw0WsUClcOwaA9eDcQkXCMXIeoQj2oVFrKeUnzll1WBo1%2BwXFAytDwGOO9KEeE8J8R4Sd99DwZrxxWNHnxxkqJu173kiFmN%2BoG9X9OWdymsI%2BhRbvKHoU2ca6wiC%2FHZ2T3GWIOye6eNzPGCp7Yi8YwecHCfZAMCJRctHNU1R%2FEhOTt1fNPCGTQQKw0Az9sJ9pIqdbNCGOAzS5lA%2BN27LbedWvsfu2EnvO3d02FFcyvqxY6%2Fav%2FD4OJR35NJu1hILS22dowvA1Re7yNYVgWurEUCXY%2BpOsunfiwRW3J0th9oP3uDFj6emudM89QjDpY%2BmHOJ3%2FavT9UYVapa5qoWeLn9aMLEOlr%2FQaF79Dw%3D%3D">logic flow</a>
    provides a detailed summary of the program execution in the solution. 
</p>

<!-- This adds the illustration right in the page  -->
<!-- <div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;toolbar&quot;:&quot;zoom layers tags lightbox&quot;,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2022-03-11T23:43:09.208Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4844.51 Safari/537.36\&quot; etag=\&quot;VAYFOlhbmbXCp-8e_eDM\&quot; version=\&quot;16.5.2\&quot; type=\&quot;device\&quot;&gt;&lt;diagram id=\&quot;C5RBs43oDa-KdzZeNtuy\&quot; name=\&quot;Page-1\&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div>
<script type="text/javascript" src="https://viewer.diagrams.net/js/viewer-static.min.js"></script> -->


<h1>TO BE CONTINUED.........</h1>
<p>
    This page is a work in progress please check back for future changes...........
</p>